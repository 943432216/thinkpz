<!DOCTYPE html>
<html lang="zh-hans">
<head>
	<meta charset="UTF-8">
	<title>留言管理</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="__TMPL__/public/thinkpz/layui/css/layui.css" rel="stylesheet">
</head>
<body>
	<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
	    <ul class="layui-tab-title">
	        <li class="layui-this">职位列表</li>
	        <li>增加职位</li>
	    </ul>
	    <div class="layui-tab-content" style="height: 100px;">
	        <div class="layui-tab-item layui-show">
				<div class="layui-btn-group demoTable">
				  <button class="layui-btn" data-type="getCheckData">获取选中行数据</button>
				  <button class="layui-btn" data-type="getCheckLength">获取选中数目</button>
				  <button class="layui-btn" data-type="isAll">验证是否全选</button>
				</div>
				 
				 <table class="layui-table" id="test"/>


				
				 
				<script type="text/html" id="barDemo">
				  <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
				  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
				  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
				</script>
	        </div>
	        <div class="layui-tab-item">
				<form class="layui-form" action="{:url('portal/AdminRecruit/add')}" method="POST">
				  <div class="layui-form-item">
				    <label class="layui-form-label">职位名称</label>
				    <div class="layui-input-block">
				      <input type="text" name="job_name" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
				    </div>
				  </div>	
				  <div class="layui-form-item">
				    <label class="layui-form-label">职位部门</label>
				    <div class="layui-input-block">
				      <select name="department" lay-filter="aihao">
				        <option value=""></option>
				        <option value="0" selected="">品牌部</option>
				        <option value="1">风控部</option>
				        <option value="2">业支部</option>
				        <option value="3">媒介部</option>
				        <option value="4">销售部</option>
				        <option value="5">运营部</option>
				      </select>
				    </div>
				  </div>
				  <div class="layui-form-item">
				  	<div class="layui-inline">
					    <label class="layui-form-label">招聘人数</label>
					    <div class="layui-input-block">
					      <input type="text" name="recruit_numbers" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
					    </div>
					</div>
				  </div>
				  <div class="layui-form-item">
				  	<div class="layui-inline">
					    <label class="layui-form-label">薪资</label>
					    <div class="layui-input-block">
					      <input type="text" name="salary" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
					    </div>
					</div>
				  </div>
				  <div class="layui-form-item">
				  	<div class="layui-inline">
					    <label class="layui-form-label">工作地点</label>
					    <div class="layui-input-block">
					      <input type="text" name="work_place" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
					    </div>
					</div>
				  </div>
				  <div class="layui-form-item">
				  	<div class="layui-inline">
					    <label class="layui-form-label">年限</label>
					    <div class="layui-input-block">
					      <input type="text" name="work_experience" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input">
					    </div>
					</div>
				  </div>  
				  <div class="layui-form-item">
				    <div class="layui-inline">
				      <label class="layui-form-label">发布日期</label>
				      <div class="layui-input-inline">
				        <input type="text" name="post_time" id="date" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
				      </div>
				    </div>
				  </div>
				  <div class="layui-form-item">
				    <div class="layui-inline">
				      <label class="layui-form-label">职位有效期</label>
				      <div class="layui-input-inline">
				        <input type="text" name="expiry_time" id="date" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
				      </div>
				    </div>
				  </div>
				  <div class="layui-form-item layui-form-text">
				    <label class="layui-form-label">岗位职责</label>
				    <div class="layui-input-block">
				      <textarea name="job_duty" placeholder="请输入内容" class="layui-textarea"></textarea>
				    </div>
				  </div>
				  <div class="layui-form-item layui-form-text">
				    <label class="layui-form-label">任职要求</label>
				    <div class="layui-input-block">
				      <textarea name="job_require" placeholder="请输入内容" class="layui-textarea"></textarea>
				    </div>
				  </div>
				  
				  <div class="layui-form-item">
				    <div class="layui-input-block">
				      <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
				      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
				    </div>
				  </div>
				</form>
	        </div>
	    </div>
    </div> 
	<script src="__TMPL__/public/thinkpz/layui/layui.js" charset="utf-8"></script>
	<script>
		layui.use(['table','element'], function(){
		  var  $=layui.$, table = layui.table, element= layui.element;
		  //监听表格复选框选择
		  table.on('checkbox(demo)', function(obj){
		    console.log(obj)
		  });
           var head = [{type:'checkbox', fixed: 'left'},
				      {field:'id', width:80, sort: true, fixed: true},
				      {field:'job_name',title:'对方的', width:100},
				      ];


 $.post('http://thinkpz.cn/portal/admin_recruit/postdata',{},function(res){
 res = 	JSON.parse(res);
 	console.log(res.data);

 	 table.render({
    elem: '#test',
    data:res.data
    ,cols: [head]

  });

 },'json');



		  //监听工具条
		  table.on('tool(demo)', function(obj){
		    var data = obj.data;
		    if(obj.event === 'detail'){
		      layer.msg('ID：'+ data.id + ' 的查看操作');
		    } else if(obj.event === 'del'){
		      layer.confirm('真的删除行么', function(index){
		        obj.del();
		        layer.close(index);
		      });
		    } else if(obj.event === 'edit'){
		      layer.alert('编辑行：<br>'+ JSON.stringify(data))
		    }
		  });
		  
		  var $ = layui.$, active = {
		    getCheckData: function(){ //获取选中数据
		      var checkStatus = table.checkStatus('idTest')
		      ,data = checkStatus.data;
		      layer.alert(JSON.stringify(data));
		    }
		    ,getCheckLength: function(){ //获取选中数目
		      var checkStatus = table.checkStatus('idTest')
		      ,data = checkStatus.data;
		      layer.msg('选中了：'+ data.length + ' 个');
		    }
		    ,isAll: function(){ //验证是否全选
		      var checkStatus = table.checkStatus('idTest');
		      layer.msg(checkStatus.isAll ? '全选': '未全选')
		    }
		  };
		  
		  $('.demoTable .layui-btn').on('click', function(){
		    var type = $(this).data('type');
		    active[type] ? active[type].call(this) : '';
		  });
		});
	</script>

	
</body>
</html>